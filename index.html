<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Tic Tac Toe Game</title>
</head>

<style>
    body,
    html {
        height: 100vh;
        width: 100vw;
        margin: 0;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    #fieldArea {
        display: grid;
        grid-template-columns: 100px 100px 100px;
        grid-template-rows: 100px 100px 100px;

    }

    .singleField {
        border: 1px solid red;
        width: 100px;
        height: 100px;
    }

    .singleField:hover {
        background-color: azure;
    }
</style>

<body>
    <div id="fieldArea">
        <div id="1" class="singleField"></div>
        <div id="2" class="singleField"></div>
        <div id="3" class="singleField"></div>
        <div id="4" class="singleField"></div>
        <div id="5" class="singleField"></div>
        <div id="6" class="singleField"></div>
        <div id="7" class="singleField"></div>
        <div id="8" class="singleField"></div>
        <div id="9" class="singleField"></div>
    </div>

    <script>
        var arrayRows = [
            ['1', '2', '3'],
            ['4', '5', '6'],
            ['7', '8', '9'],
            ['1', '4', '7'],
            ['2', '5', '8'],
            ['3', '6', '9'],
            ['1', '5', '9'],
            ['3', '5', '7']
        ]
        var userXArray = {
            name: "userX",
            values: []
        };
        var userOArray = {
            name: 'userO',
            values: []
        };
        var winner;
        var user = 'X';

        document.addEventListener('click', function (event) {



            var clickedElement = event.target.id;


            if (user === 'O') {
                userOArray.values.push(clickedElement);
                event.target.innerHTML = 'O'
                user = 'X'

            } else { // if it is X
                userXArray.values.push(clickedElement);
                user = 'O';
                event.target.innerHTML = 'X';
            }



            console.log(userOArray.values)

            if (userXArray.values.length >= 3 && user === 'O') {
                checkForThree(userXArray);
            }

            if (userOArray.values.length >= 3 && user === 'X') {
                checkForThree(userOArray);
            }
        })





        function checkForThree(userArray) {


            for (var i = 0; i < arrayRows.length; i++) {



                compare(arrayRows[i], userArray)

                if (winner === 'userO') {

                    console.log('O won')
                    break;

                } else if (winner === 'userX') {
                    console.log('userX won')
                    break;
                } else {
                    console.log('no one won')
                }





            }
        }

        function compare(currentArray, userArray) {
            console.log(currentArray)
            console.log(userArray.values)
            var matches = userArray.values.filter(element => currentArray.includes(element));
            console.log(matches)

            if (matches.length === 3) {
                winner = userArray.name;
                console.log(winner)
                return true;
            } else {
                console.log('no')
            }





        }
    </script>
</body>

</html>